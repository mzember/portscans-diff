task hostHostnames(type: Exec) {
	ext.outputFilePath = "$rootDir/${it.path}"
	def byteArrayOutputStream = new ByteArrayOutputStream()
	executable 'sed'
	workingDir rootDir
	args = ['/^#/d; s/Host: \\(.*\\) (\\(.*\\)).*/\\1,\\2/', ":detect:targets:hosts.raw"]
	standardOutput = byteArrayOutputStream
	doLast {
		file(outputFilePath).text = byteArrayOutputStream.toString()

		file(outputFilePath).text = file(outputFilePath).text.replaceAll(".lax.liferay.com", "")

		if (file("$rootDir/ext-${it.path}").exists()) {
			file(outputFilePath).append(file("$rootDir/ext-${it.path}").text)
		}
	}
}