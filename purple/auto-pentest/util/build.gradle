task hostHostnames(type: Exec) {
	ext.outputFilePath = "$buildDir/$name"
	def byteArrayOutputStream = new ByteArrayOutputStream()
	executable 'sed'
	workingDir rootDir

	def hostsFilePath = tasks.findByPath(":detect:targets:hosts").outputFilePath

	args = ['/^#/d; s/Host: \\(.*\\) (\\(.*\\)).*/\\1,\\2/', "${hostsFilePath}.raw"]

	standardOutput = byteArrayOutputStream
	doLast {
		file(outputFilePath).text = byteArrayOutputStream.toString()

		file(outputFilePath).text = file(outputFilePath).text.replaceAll(".lax.liferay.com", "")
	}
}